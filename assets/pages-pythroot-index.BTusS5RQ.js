import{_ as t}from"./BannerView.vue_vue_type_script_setup_true_lang.C9IVHeQj.js";import{d as e,c as r,a as s,a3 as a,w as l,b as i,e as o,G as n,t as p,n as u,A as c,E as x,_ as f,H as d,r as m,N as h,O as _,Q as b,P as g}from"./index-DLEqDFWl.js";import{_ as y}from"./GradientText.vue_vue_type_script_setup_true_lang.7MJiORDR.js";import{_ as w}from"./PyTitle.DbeyPiIU.js";import{o as v}from"./on-chain.ItkuIJXP.js";import{u as k,_ as j}from"./usePaged.6WT1M_ey.js";import{l as I}from"./pythroot-banner.02EEHkli.js";const D=f(e({options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},name:"NPythrootListItem",__name:"NPythrootListItem",props:{coverImgSrc:{},isOnChain:{type:Boolean,default:!1},issueQuantity:{},issuer:{},profitQuantity:{default:0},title:{}},emits:["click","viewDetail"],setup:t=>(t,e)=>{const f=n,d=o,m=w,h=x,_=y,b=a;return s(),r(b,{"custom-class":"!relative !mb-0 !pb-0 !pt-0 n-pythroot-list-item !rounded-l-106rpx rounded-r-30rpx !overflow-hidden",onClick:e[1]||(e[1]=e=>t.$emit("click"))},{default:l(()=>[i(d,{class:"border-0rpx border-b-dashed border-b-#DFE6ED flex items-start"},{default:l(()=>[i(d,{class:"h-212rpx w-212rpx bg-#f5f5f5 border-4rpx b-solid b-white flex-shrink-0 overflow-hidden rounded-full"},{default:l(()=>[i(f,{width:"100%",height:"100%",mode:"aspectFill",alt:"",src:t.coverImgSrc},null,8,["src"])]),_:1}),i(d,{class:"py-18rpx pr-26rpx pl-42rpx gap-14rpx rounded-r-30rpx h-212rpx flex flex-grow flex-col overflow-hidden"},{default:l(()=>[i(d,{class:"flex items-center justify-between"},{default:l(()=>[i(m,{"custom-class":"font-600",size:"28rpx","line-height":"normal",style:u({maxWidth:t.isOnChain?"280rpx":"380rpx"}),text:t.title},null,8,["style","text"]),t.isOnChain?(s(),r(d,{key:0,class:"gap-4rpx inline-flex flex-shrink-0 items-center"},{default:l(()=>[i(f,{width:"20rpx",height:"20rpx",src:c(v)},null,8,["src"]),i(h,{color:"#545454",text:"已上链",size:"24rpx","line-height":"36rpx"})]),_:1})):p("",!0)]),_:1}),i(d,{class:"gap-8rpx flex flex-col"},{default:l(()=>[i(d,{class:"gap-24rpx inline-flex max-w-full"},{default:l(()=>[i(h,{"custom-class":"font-300 flex-shrink-0",text:"发行方: "}),i(d,{class:"bg-#29a2fb26 rounded-24rpx px-18rpx max-w-280rpx flex items-center justify-center py-0"},{default:l(()=>[i(_,{"custom-class":"font-500 text-24rpx leading-32rpx truncate min-w-2rpx",from:"#29a2fb",to:"#00bfa5",text:t.issuer},null,8,["text"])]),_:1})]),_:1}),i(d,{class:"gap-12rpx inline-flex max-w-full"},{default:l(()=>[i(h,{"custom-class":"font-300 flex-shrink-0",text:"发放数量: "}),i(h,{"custom-class":"font-300 max-w-280rpx truncate",lines:1,text:`${t.issueQuantity}`},null,8,["text"])]),_:1}),i(d,{class:"gap-12rpx inline-flex"},{default:l(()=>[i(h,{"custom-class":"font-300  flex-shrink-0",text:"关联权益: "}),i(h,{"custom-class":"font-300 max-w-120rpx truncate",bold:"",color:"var(--wot-color-theme)",text:`${t.profitQuantity}`,lines:1},null,8,["text"])]),_:1})]),_:1})]),_:1})]),_:1}),i(d,{class:"bottom-action right-22rpx bottom-14rpx py-6rpx px-26rpx rounded-30rpx absolute bg-[var(--wot-color-theme)]",onClick:e[0]||(e[0]=e=>t.$emit("viewDetail"))},{default:l(()=>[i(m,{"custom-class":"font-600",text:"去看看",color:"#fff",size:"28rpx","line-height":"40rpx"})]),_:1})]),_:1})}}),[["__scopeId","data-v-d03d4943"]]),N=e({__name:"index",setup(e){const a=d();const{list:n}=k(async function(t){const e=await g.app.getOrderPage({params:{type:1,...t}}),{code:r,data:s}=e||{};if(0!==r||!s)throw new Error("获取数据失败");return s});return(e,u)=>{const x=j,f=o,d=D,g=t,y=m("layout-tabbar-uni");return s(),r(y,null,{default:l(()=>[i(g,{"custom-class":"pb-228rpx bg-#EFF2F5","banner-height":"364rpx","banner-src":c(I)},{default:l(()=>[i(f,{class:"py-30rpx gap-20rpx mt-[-120rpx] flex flex-col bg-transparent px-[42rpx]"},{default:l(()=>[0===c(n).length?(s(),r(f,{key:0,class:"mt-120rpx"},{default:l(()=>[i(x)]),_:1})):p("",!0),(s(!0),h(_,null,b(c(n),(t,e)=>{var l;return s(),r(d,{key:e,"cover-img-src":t.productSpuPicUrl||"",title:t.productSpuName,issuer:t.issuerName,"issue-quantity":t.productSpuIssuedQuantity||0,"is-on-chain":1===Number(t.chainStatus),"profit-quantity":null==(l=t.voucherIssue)?void 0:l.length,onViewDetail:e=>{return r=t.id,void a.push({name:"pythrootDetail",params:{id:String(r)}});var r}},null,8,["cover-img-src","title","issuer","issue-quantity","is-on-chain","profit-quantity","onViewDetail"])}),128))]),_:1})]),_:1},8,["banner-src"])]),_:1})}}});export{N as default};
