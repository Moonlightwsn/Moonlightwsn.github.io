import{_ as t}from"./PyText.vue_vue_type_script_setup_true_lang.1L9IIHvr.js";import{_ as e}from"./PyTitle.Dn6RlDza.js";import{d as r,c as s,w as a,r as l,a as p,b as u,e as i,t as o,L as x,A as n,M as d,N as c,F as f,P as m}from"./index-Bpal6X9u.js";import{u as _,_ as g}from"./usePaged.D5bXF0nA.js";import{f as h}from"./index.DM5hYbMc.js";import"./wd-text.COOnfa1A.js";const y=r({__name:"redemption-record",setup(r){const{list:y}=_(async function(t){const e=await m.app.getOrderPage({params:{status:30,type:2,...t}}),{code:r,data:s}=e||{};if(0!==r||!s)throw new Error("获取数据失败");return{list:(s.list||[]).map(t=>{var e;const r=[];return null==(e=t.productsIssue)||e.forEach(t=>{r.push(t.name)}),{id:t.id,title:t.productSpuName,issuer:t.issuerName,pythroots:r.toString(),time:`${h(t.createTime)} - ${h(t.expireTime)}`,pic:t.productSpuPicUrl||""}}),total:s.total||0}});return(r,m)=>{const _=g,h=i,w=f,b=e,j=t,P=l("layout-default-uni");return p(),s(P,null,{default:a(()=>[u(h,{class:"px-30rpx py-40rpx h-screen bg-white"},{default:a(()=>[0===n(y).length?(p(),s(h,{key:0},{default:a(()=>[u(_)]),_:1})):o("",!0),(p(!0),x(d,null,c(n(y),t=>(p(),s(h,{key:t.id,class:"rounded-20rpx p-20rpx h-256rpx gap-18rpx b-2rpx b-[rgba(169,169,169,0.4)] mt-3 flex items-start border-solid"},{default:a(()=>[u(h,{class:"w-96rpx h-96rpx rounded-8rpx p-16rpx bg-#F3F3F5 flex-shrink-0"},{default:a(()=>[u(w,{width:"100%",height:"100%",round:"",radius:"10rpx",alt:"",src:t.pic},null,8,["src"])]),_:2},1024),u(h,{class:"gap-10rpx mr-12rpx flex flex-grow flex-col"},{default:a(()=>[u(h,{class:"mb-6rpx flex flex-row items-start justify-between"},{default:a(()=>[u(b,{lines:2,text:t.title},null,8,["text"]),u(j,{text:"已兑付",class:"text-green-500"})]),_:2},1024),u(h,{class:"gap-4rpx flex flex-col"},{default:a(()=>[u(j,{text:`发行方: ${t.issuer}`},null,8,["text"]),u(j,{text:`关联数根: ${t.pythroots} `},null,8,["text"]),u(j,{text:`${t.time}`},null,8,["text"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})}}});export{y as default};
