import{d as a,H as r,aZ as t,m as e,a_ as o,a as d,w as s,q as l,o as n,e as u,i as c,h as k,g as b,t as g,u as f,f as x,_ as p}from"./index-DaoIyQhi.js";import{_ as m}from"./DemoBlock.vue_vue_type_script_setup_true_lang.DNXPz3r-.js";const _=a({__name:"demo-params",setup(a){const _=r(),i=t(),y=e({}),w=e(null);function v(){_.back()}function h(){_.push("/pages/router/demo-guard")}return o(a=>{if(console.log("onLoad option:",a),y.value=a||{},a&&a.user)try{w.value=JSON.parse(decodeURIComponent(a.user))}catch(r){console.error("解码user参数失败:",r)}}),(a,r)=>{const t=c,e=b,o=m,_=p,j=l("layout-default-uni");return n(),d(j,null,{default:s(()=>[u(t,{class:"min-h-screen bg-gray-100 py-3 dark:bg-[var(--wot-dark-background)]"},{default:s(()=>[u(t,{class:"mx-3 mb-3"},{default:s(()=>[u(t,{class:"rounded-3 bg-white px-5 py-6 text-center dark:bg-[var(--wot-dark-background2)]"},{default:s(()=>[u(t,{class:"mb-3 text-8"},{default:s(()=>[k(" 📥 ")]),_:1}),u(t,{class:"mb-2 text-5 text-gray-800 font-bold dark:text-[var(--wot-dark-color)]"},{default:s(()=>[k(" params 参数接收演示 ")]),_:1}),u(t,{class:"text-3.5 text-gray-600 dark:text-[var(--wot-dark-color2)]"},{default:s(()=>[k(" 演示如何接收和处理路由参数 ")]),_:1})]),_:1})]),_:1}),u(o,{title:"当前路由信息",transparent:""},{default:s(()=>[u(t,{class:"rounded-3 bg-white p-4 dark:bg-[var(--wot-dark-background2)]"},{default:s(()=>[u(t,{class:"space-y-2"},{default:s(()=>[u(t,{class:"flex items-center justify-between border-b border-gray-100 py-2 dark:border-[var(--wot-dark-border)]"},{default:s(()=>[u(e,{class:"text-3.5 text-gray-600 dark:text-[var(--wot-dark-color2)]"},{default:s(()=>[k(" 路径: ")]),_:1}),u(e,{class:"text-3.5 text-gray-800 font-mono dark:text-[var(--wot-dark-color)]"},{default:s(()=>[k(g(f(i).path),1)]),_:1})]),_:1}),u(t,{class:"flex items-center justify-between border-b border-gray-100 py-2 dark:border-[var(--wot-dark-border)]"},{default:s(()=>[u(e,{class:"text-3.5 text-gray-600 dark:text-[var(--wot-dark-color2)]"},{default:s(()=>[k(" 名称: ")]),_:1}),u(e,{class:"text-3.5 text-gray-800 font-mono dark:text-[var(--wot-dark-color)]"},{default:s(()=>[k(g(f(i).name),1)]),_:1})]),_:1}),u(t,{class:"flex items-center justify-between py-2"},{default:s(()=>[u(e,{class:"text-3.5 text-gray-600 dark:text-[var(--wot-dark-color2)]"},{default:s(()=>[k(" 接收方式: ")]),_:1}),u(e,{class:"text-3.5 text-gray-800 dark:text-[var(--wot-dark-color)]"},{default:s(()=>[k(" onLoad(option) ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),u(o,{title:"接收到的参数",transparent:""},{default:s(()=>[u(t,{class:"space-y-3"},{default:s(()=>[u(t,{class:"rounded-2 bg-white p-4 dark:bg-[var(--wot-dark-background2)]"},{default:s(()=>[u(t,{class:"mb-3 text-4 text-gray-800 font-bold dark:text-[var(--wot-dark-color)]"},{default:s(()=>[k(" 原始参数 (option) ")]),_:1}),u(t,{class:"border border-gray-200 rounded-2 bg-gray-50 p-3 dark:border-[var(--wot-dark-border)] dark:bg-[var(--wot-dark-background3)]"},{default:s(()=>[u(e,{class:"text-3 text-gray-700 font-mono dark:text-[var(--wot-dark-color)]"},{default:s(()=>[k(g(JSON.stringify(f(y),null,2)),1)]),_:1})]),_:1})]),_:1}),f(w)?(n(),d(t,{key:0,class:"rounded-2 bg-white p-4 dark:bg-[var(--wot-dark-background2)]"},{default:s(()=>[u(t,{class:"mb-3 text-4 text-gray-800 font-bold dark:text-[var(--wot-dark-color)]"},{default:s(()=>[k(" 解码后的对象参数 ")]),_:1}),u(t,{class:"border border-gray-200 rounded-2 bg-gray-50 p-3 dark:border-[var(--wot-dark-border)] dark:bg-[var(--wot-dark-background3)]"},{default:s(()=>[u(e,{class:"text-3 text-gray-700 font-mono dark:text-[var(--wot-dark-color)]"},{default:s(()=>[k(g(JSON.stringify(f(w),null,2)),1)]),_:1})]),_:1}),u(t,{class:"mt-3 text-3.5 text-gray-600 dark:text-[var(--wot-dark-color2)]"},{default:s(()=>[k(" 使用 JSON.parse(decodeURIComponent(option.user)) 解码 ")]),_:1})]),_:1})):x("",!0)]),_:1})]),_:1}),u(o,{title:"API 说明",transparent:""},{default:s(()=>[u(t,{class:"rounded-2 bg-white p-4 dark:bg-[var(--wot-dark-background2)]"},{default:s(()=>[u(t,{class:"mb-3 text-4 text-gray-800 font-bold dark:text-[var(--wot-dark-color)]"},{default:s(()=>[k(" Params vs Query 的区别 ")]),_:1}),u(t,{class:"mb-3 border border-orange-200 rounded-2 bg-orange-50 p-3 dark:bg-orange-900/20"},{default:s(()=>[u(t,{class:"mb-2 text-3.5 text-orange-700 font-bold dark:text-orange-300"},{default:s(()=>[k(" ⚠️ 重要说明 ")]),_:1}),u(t,{class:"text-3 text-orange-600 leading-relaxed dark:text-orange-200"},{default:s(()=>[k(" 在 uni-mini-router 中，params 和 query 参数在实际效果上并无区别，都会以查询字符串形式放在 URL 中。这种 API 设计主要是为了与 vue-router 保持一致。 ")]),_:1})]),_:1}),u(t,{class:"border border-gray-200 rounded-2 bg-gray-50 p-3 dark:border-[var(--wot-dark-border)] dark:bg-[var(--wot-dark-background3)]"},{default:s(()=>[u(e,{class:"text-3 text-gray-700 leading-relaxed font-mono dark:text-[var(--wot-dark-color)]"},{default:s(()=>[k(" // Params 写法 (当前演示) router.push({ name: 'demo-params', params: { username: 'eduardo' } }) // 结果: /demo-params?username=eduardo // Query 写法 (效果相同) router.push({ path: '/demo-params', query: { username: 'eduardo' } }) // 结果: /demo-params?username=eduardo ")]),_:1})]),_:1})]),_:1})]),_:1}),u(o,{title:"代码示例",transparent:""},{default:s(()=>[u(t,{class:"rounded-2 bg-white p-4 dark:bg-[var(--wot-dark-background2)]"},{default:s(()=>[u(t,{class:"mb-3 text-4 text-gray-800 font-bold dark:text-[var(--wot-dark-color)]"},{default:s(()=>[k(" 接收参数的标准写法 ")]),_:1}),u(t,{class:"border border-gray-200 rounded-2 bg-gray-50 p-3 dark:border-[var(--wot-dark-border)] dark:bg-[var(--wot-dark-background3)]"},{default:s(()=>[u(e,{class:"text-3 text-gray-700 leading-relaxed font-mono dark:text-[var(--wot-dark-color)]"},{default:s(()=>[k(" onLoad((option) => { if (option && option.username) { const username = option.username } // 对象参数需要解码 if (option && option.user) { const user = JSON.parse(decodeURIComponent(option.user)) } }) ")]),_:1})]),_:1})]),_:1})]),_:1}),u(o,{title:"继续演示",transparent:""},{default:s(()=>[u(t,{class:"space-y-3"},{default:s(()=>[u(_,{type:"primary",block:"",onClick:h},{default:s(()=>[k(" 跳转到导航守卫演示 ")]),_:1}),u(_,{type:"warning",block:"",onClick:v},{default:s(()=>[k(" 返回上一页 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});export{_ as default};
