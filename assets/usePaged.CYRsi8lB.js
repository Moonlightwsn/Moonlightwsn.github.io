import{g as a,N as e,d as t,p as s,aI as i,s as l,ar as u,q as o,c as n,a as m,e as g,n as r,h as p,w as c,j as d,t as h,E as y,y as v,z as f,_ as w,B as S,aJ as z,aK as _,A as $,o as k,aL as x,W as N,ah as E,aM as P,an as b}from"./index-DbmF-9aG.js";const j=w(t({name:"wd-status-tip",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...a,image:e("network"),imageSize:{type:[String,Number,Object],default:""},tip:e(""),imageMode:e("aspectFill"),urlPrefix:e("https://registry.npmmirror.com/wot-design-uni-assets/*/files/")},setup(a){const e=a,t=s(()=>{let a="";return a=["search","network","content","collect","comment","halo","message"].includes(e.image)?`${e.urlPrefix}${e.image}.png`:e.image,a}),w=s(()=>{let a={};return e.imageSize&&(i(e.imageSize)?(l(e.imageSize.height)&&(a.height=u(e.imageSize.height)),l(e.imageSize.width)&&(a.width=u(e.imageSize.width))):a={height:u(e.imageSize),width:u(e.imageSize)}),`${o(a)}`});return(a,e)=>{const s=g;return m(),n(s,{class:p(`wd-status-tip  ${a.customClass}`),style:r(a.customStyle)},{default:c(()=>[a.$slots.image?d(a.$slots,"image",{key:0},void 0,!0):t.value?(m(),n(y,{key:1,mode:a.imageMode,src:t.value,"custom-class":"wd-status-tip__image","custom-style":w.value},null,8,["mode","src","custom-style"])):h("",!0),a.tip?(m(),n(s,{key:2,class:"wd-status-tip__text"},{default:c(()=>[v(f(a.tip),1)]),_:1})):h("",!0)]),_:3},8,["class","style"])}}}),[["__scopeId","data-v-fff4de2e"]]),I=t({name:"PyEmptyTip",__name:"PyEmptyTip",props:{image:{default:"/assets/empty-status-BN6eqwVE.png"},tip:{default:"暂无数据"}},setup:a=>(a,e)=>{const t=j;return m(),n(t,{image:a.image,tip:a.tip},null,8,["image","tip"])}});function M(a){const e=S(1),t=S(0),s=S([]),i=S(!1);async function l(){if(i.value)return;i.value=!0,e.value=1;const l=await a({pageNo:e.value,pageSize:10}).finally(()=>{P(),i.value=!1}),{total:u,list:o}=l||{};t.value=u||0,s.value=o||[]}function u(){l()}return z(()=>{l()}),_(async()=>{let i=e.value;const l=s.value.length;t.value,l%10==0&&(i+=1);const u=await a({pageNo:i,pageSize:10}),{total:o,list:n}=u||{};n.length>0&&(e.value=i),t.value=o||0;$(s).splice(10*(i-1),n.length,...n)}),k(()=>{x(),u()}),N(()=>{x(),u()}),E(()=>{P()}),b(()=>{P()}),{list:s,reload:u}}export{I as _,M as u};
