import{_ as t}from"./BannerView.vue_vue_type_script_setup_true_lang.B55NZ1Jk.js";import{_ as e}from"./wd-card.BfjIy9EC.js";import{d as s,c as r,a,w as l,b as i,e as o,G as n,t as p,n as u,A as c,E as x,y as d,z as f,_ as m,H as h,r as _,M as g,N as b,O as y,P as v}from"./index-Bly4hIk5.js";import{_ as w}from"./PyTitle.Cr1dk33U.js";import{o as k}from"./on-chain.ItkuIJXP.js";import{u as j,_ as I}from"./usePaged.BNwJwJlH.js";import{l as S}from"./pythroot-banner.WDKHhXnh.js";const D=m(s({options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},name:"NPythrootListItem",__name:"NPythrootListItem",props:{coverImgSrc:{},isOnChain:{type:Boolean,default:!1},issueQuantity:{},issuer:{},profitQuantity:{default:0},title:{}},emits:["click","viewDetail"],setup:t=>(t,s)=>{const m=n,h=o,_=w,g=x,b=e;return a(),r(b,{"custom-class":"!relative !mb-0 !pb-0 !pt-0 n-pythroot-list-item !rounded-l-106rpx rounded-r-30rpx !overflow-hidden",onClick:s[1]||(s[1]=e=>t.$emit("click"))},{default:l(()=>[i(h,{class:"border-0rpx border-b-dashed border-b-#DFE6ED flex items-start"},{default:l(()=>[i(h,{class:"h-212rpx w-212rpx bg-#f5f5f5 border-4rpx b-solid b-white flex-shrink-0 overflow-hidden rounded-full"},{default:l(()=>[i(m,{width:"100%",height:"100%",mode:"aspectFill",alt:"",src:t.coverImgSrc},null,8,["src"])]),_:1}),i(h,{class:"py-18rpx pr-26rpx pl-42rpx gap-14rpx rounded-r-30rpx flex flex-grow flex-col overflow-hidden"},{default:l(()=>[i(h,{class:"flex items-center justify-between"},{default:l(()=>[i(_,{"custom-class":"font-600",size:"28rpx","line-height":"normal",style:u({maxWidth:t.isOnChain?"280rpx":"380rpx"}),text:t.title},null,8,["style","text"]),t.isOnChain?(a(),r(h,{key:0,class:"gap-4rpx inline-flex flex-shrink-0 items-center"},{default:l(()=>[i(m,{width:"20rpx",height:"20rpx",src:c(k)},null,8,["src"]),i(g,{color:"#545454",text:"已上链",size:"24rpx","line-height":"36rpx"})]),_:1})):p("",!0)]),_:1}),i(h,{class:"gap-8rpx flex flex-col"},{default:l(()=>[i(h,{class:"gap-24rpx inline-flex"},{default:l(()=>[i(g,{"custom-class":"flex-shrink-0 font-300",text:"发行方: "}),i(h,{class:"text-container flex items-center justify-center"},{default:l(()=>[i(h,{class:"text-gradient font-500 px-18rpx rounded-24rpx bg-#29a2fb25 text-24rpx pt-0 leading-none"},{default:l(()=>[d(f(t.issuer),1)]),_:1})]),_:1})]),_:1}),i(h,{class:"gap-12rpx inline-flex"},{default:l(()=>[i(g,{"custom-class":"font-300",text:"发放数量: "}),i(g,{"custom-class":"font-300",text:`${t.issueQuantity}`},null,8,["text"])]),_:1}),i(h,{class:"gap-12rpx inline-flex"},{default:l(()=>[i(g,{"custom-class":"font-300",text:"关联权益: "}),i(g,{bold:"",color:"var(--wot-color-theme)",text:`${t.profitQuantity}`},null,8,["text"])]),_:1})]),_:1})]),_:1})]),_:1}),i(h,{class:"bottom-action right-22rpx bottom-14rpx py-6rpx px-26rpx rounded-30rpx absolute bg-[var(--wot-color-theme)]",onClick:s[0]||(s[0]=e=>t.$emit("viewDetail"))},{default:l(()=>[i(_,{"custom-class":"font-600",text:"去看看",color:"#fff",size:"28rpx","line-height":"40rpx"})]),_:1})]),_:1})}}),[["__scopeId","data-v-af4a4f2b"]]),P=s({__name:"index",setup(e){const s=h();const{list:n}=j(async function(t){const e=await v.app.getOrderPage({params:{type:1,...t}}),{code:s,data:r}=e||{};if(0!==s||!r)throw new Error("获取数据失败");return r});return(e,u)=>{const x=I,d=o,f=D,m=t,h=_("layout-tabbar-uni");return a(),r(h,null,{default:l(()=>[i(m,{"custom-class":"pb-228rpx bg-#EFF2F5","banner-height":"364rpx","banner-src":c(S)},{default:l(()=>[i(d,{class:"py-30rpx gap-20rpx mt-[-120rpx] flex flex-col bg-transparent px-[42rpx]"},{default:l(()=>[0===c(n).length?(a(),r(d,{key:0,class:"mt-120rpx"},{default:l(()=>[i(x)]),_:1})):p("",!0),(a(!0),g(b,null,y(c(n),(t,e)=>{var l;return a(),r(f,{key:e,"cover-img-src":t.productSpuPicUrl||"",title:t.productSpuName,issuer:t.issuerName,"issue-quantity":t.productSpuIssuedQuantity||0,"is-on-chain":1===Number(t.chainStatus),"profit-quantity":null==(l=t.voucherIssue)?void 0:l.length,onViewDetail:e=>{return r=t.id,void s.push({name:"pythrootDetail",params:{id:String(r)}});var r}},null,8,["cover-img-src","title","issuer","issue-quantity","is-on-chain","profit-quantity","onViewDetail"])}),128))]),_:1})]),_:1},8,["banner-src"])]),_:1})}}});export{P as default};
