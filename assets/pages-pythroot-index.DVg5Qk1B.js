import{_ as t,a as e,b as a}from"./wd-tab.Cw4yMMi8.js";import{_ as s}from"./wd-card.BcAox_dV.js";import{d as l,a as r,o as i,w as o,e as n,k as u,i as p,f as c,n as d,u as x,_ as f,h as m,j as h,m as y,H as g,l as _,p as v,q as b,s as w,F as k,v as j,B as I}from"./index-DaoIyQhi.js";import{_ as P}from"./wd-text.Br-nob88.js";import{_ as C,a as D}from"./PyTitle.CRqKHNN_.js";import{o as S}from"./on-chain.ItkuIJXP.js";import{p as V}from"./pythroot-cover.uw0y0JkF.js";import{P as $}from"./index.TxoMC2Cv.js";import"./alova.esm.BwIAK7PD.js";import"./index.CqOBavWu.js";const q=h(l({options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},name:"PythrootListItem",__name:"PythrootListItem",props:{coverImgSrc:{},isOnChain:{type:Boolean,default:!1},issueQuantity:{},issuer:{},profitQuantity:{default:0},title:{}},emits:["click","viewDetail"],setup:t=>(t,e)=>{const a=u,l=C,h=D,y=p,g=P,_=f,v=s;return i(),r(v,{"custom-class":"!mb-0 !pb-0 !pt-0 pythroot-list-item",onClick:e[1]||(e[1]=e=>t.$emit("click"))},{footer:o(()=>[n(y,{class:"flex w-full items-center justify-between"},{default:o(()=>[n(y,{class:"gap-8rpx inline-flex items-center"},{default:o(()=>[n(h,{text:"关联权益:"}),n(g,{text:t.profitQuantity,size:"26rpx","line-height":"38rpx",color:"var(--wot-color-theme)"},null,8,["text"])]),_:1}),n(_,{onClick:e[0]||(e[0]=e=>t.$emit("viewDetail"))},{default:o(()=>[m("去看看")]),_:1})]),_:1})]),default:o(()=>[n(y,{class:"py-20rpx border-2rpx border-b-dashed border-b-#DFE6ED gap-28rpx flex items-start"},{default:o(()=>[n(a,{class:"flex-shrink-0",width:"186rpx",height:"186rpx",round:"",radius:"8rpx",mode:"aspectFill",alt:"",src:t.coverImgSrc},null,8,["src"]),n(y,{class:"gap-14rpx flex flex-grow flex-col"},{default:o(()=>[n(y,{class:"flex items-center justify-between"},{default:o(()=>[n(l,{style:d({maxWidth:t.isOnChain?"300rpx":"430rpx"}),text:t.issuer},null,8,["style","text"]),t.isOnChain?(i(),r(y,{key:0,class:"gap-4rpx inline-flex items-center"},{default:o(()=>[n(a,{width:"20rpx",height:"20rpx",src:x(S)},null,8,["src"]),n(h,{text:"已上链",size:"24rpx","line-height":"36rpx"})]),_:1})):c("",!0)]),_:1}),n(y,{class:"gap-8rpx flex flex-col"},{default:o(()=>[n(h,{text:`发行方: ${t.issuer}`},null,8,["text"]),n(h,{text:`发行数量: ${t.issueQuantity}`},null,8,["text"])]),_:1})]),_:1})]),_:1})]),_:1})}}),[["__scopeId","data-v-0a4d5893"]]),z=l({__name:"index",setup(s){const l=y("all"),u=[{key:"all",title:"全部"},{key:"hasProfit",title:"有权益"}],d=g(),f=_(),h=y([]);return v(async()=>{var t;console.log("数根页");try{const e=await $.app.getOrderPage({params:{type:1,pageNo:1,pageSize:20}});(null==(t=null==e?void 0:e.data)?void 0:t.list)&&e.data.list.length>0?h.value=e.data.list:(h.value=[],f.info("没有获取到数根数据"))}catch(e){f.error(`获取数根数据失败：${e}`),h.value=[]}}),(s,f)=>{const y=a,g=e,_=p,v=q,P=t,C=b("layout-tabbar-uni");return i(),r(C,null,{default:o(()=>[n(P,{"banner-height":"364rpx","placeholder-height":"280rpx","banner-src":x("/assets/pythroot-banner-0xXTGObV.png")},{header:o(()=>[n(_,{class:"banner-view-header z-999 sticky top-0 w-full"},{default:o(()=>[n(g,{modelValue:x(l),"onUpdate:modelValue":f[0]||(f[0]=t=>I(l)?l.value=t:null)},{default:o(()=>[(i(),w(k,null,j(u,t=>n(y,{key:t.key,title:`${t.title}`},null,8,["title"])),64))]),_:1},8,["modelValue"])]),_:1})]),default:o(()=>[n(_,{class:"p-30rpx gap-20rpx flex translate-y-[-120rpx] flex-col bg-transparent"},{default:o(()=>[0===x(h).length?(i(),r(_,{key:0,class:"py-40rpx text-center"},{default:o(()=>[m(" 暂无数根数据 ")]),_:1})):c("",!0),(i(!0),w(k,null,j(x(h),(t,e)=>{var a;return i(),r(v,{key:e,"cover-img-src":t.productSpuPicUrl||x(V),title:t.productSpuName,issuer:t.issuerName,"issue-quantity":t.productSpuIssueQuantity,"is-on-chain":"","profit-quantity":null==(a=t.productsIssue)?void 0:a.length,onViewDetail:e=>{return a=t.id,void d.push({name:"pythrootDetail",params:{id:a}});var a}},null,8,["cover-img-src","title","issuer","issue-quantity","profit-quantity","onViewDetail"])}),128))]),_:1})]),_:1},8,["banner-src"])]),_:1})}}});export{z as default};
