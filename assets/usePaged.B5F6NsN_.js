import{g as e,$ as a,d as s,p as t,bB as i,s as l,bg as o,q as u,c as n,a as m,e as g,n as r,h as c,w as p,j as d,t as h,G as v,y,z as f,_ as w,bC as z,C as S,b6 as _,bD as b,A as $,o as x,K as C,a_ as k,a0 as P,ba as E,b7 as N,bE as T,bF as j}from"./index-BuB-5Wuo.js";const B=w(s({name:"wd-status-tip",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...e,image:a("network"),imageSize:{type:[String,Number,Object],default:""},tip:a(""),imageMode:a("aspectFill"),urlPrefix:a("https://registry.npmmirror.com/wot-design-uni-assets/*/files/")},setup(e){const a=e,s=t(()=>{let e="";return e=["search","network","content","collect","comment","halo","message"].includes(a.image)?`${a.urlPrefix}${a.image}.png`:a.image,e}),w=t(()=>{let e={};return a.imageSize&&(i(a.imageSize)?(l(a.imageSize.height)&&(e.height=o(a.imageSize.height)),l(a.imageSize.width)&&(e.width=o(a.imageSize.width))):e={height:o(a.imageSize),width:o(a.imageSize)}),`${u(e)}`});return(e,a)=>{const t=g;return m(),n(t,{class:c(`wd-status-tip  ${e.customClass}`),style:r(e.customStyle)},{default:p(()=>[e.$slots.image?d(e.$slots,"image",{key:0},void 0,!0):s.value?(m(),n(v,{key:1,mode:e.imageMode,src:s.value,"custom-class":"wd-status-tip__image","custom-style":w.value},null,8,["mode","src","custom-style"])):h("",!0),e.tip?(m(),n(t,{key:2,class:"wd-status-tip__text"},{default:p(()=>[y(f(e.tip),1)]),_:1})):h("",!0)]),_:3},8,["class","style"])}}}),[["__scopeId","data-v-fff4de2e"]]),I=s({name:"PyEmptyTip",__name:"PyEmptyTip",props:{customClass:{default:""},image:{default:"/assets/empty-status-BN6eqwVE.png"},imageSize:{default:"320rpx"},tip:{default:"暂无数据"}},setup:e=>(e,a)=>{const s=B;return m(),n(s,{"custom-class":e.customClass,image:e.image,tip:e.tip,"image-size":e.imageSize},null,8,["custom-class","image","tip","image-size"])}});function M(e){const{initialized:a}=z(),s=S(1),t=S(0),i=S([]),l=S(!1),o=S(!1);async function u(a){if(o.value)return;l.value=!0,o.value=!0,s.value=1;const u=await e({pageNo:s.value,pageSize:10,sourceType:a}).finally(()=>{N(),o.value=!1}),{total:n,list:m}=u||{};t.value=n||0,i.value=m||[]}function n(e){j(),u(e||"manual")}return _(()=>{u("onPullDownRefresh")}),b(async()=>{let a=s.value;const l=i.value.length;t.value,l%10==0&&(a+=1);const o=await e({pageNo:a,pageSize:10,sourceType:"onReachBottom"}),{total:u,list:n}=o||{};n.length>0&&(s.value=a),t.value=u||0;$(i).splice(10*(a-1),n.length,...n)}),x(()=>{a.value&&n("onMounted")}),C(()=>{if(!a.value)return;k().triggerReLogin(!1),n("onShow")}),P(()=>a.value,(e,a)=>{l.value||a||!e||n("onInit")}),E(()=>{N()}),T(()=>{N()}),{list:i,total:t,reload:n}}export{I as _,M as u};
