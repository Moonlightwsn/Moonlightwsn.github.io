import{_ as t}from"./BannerView.vue_vue_type_script_setup_true_lang.BEJtDK2a.js";import{_ as e}from"./AppVersion.vue_vue_type_script_setup_true_lang.oBVIPYf8.js";import{d as r,c as s,a,a8 as l,w as i,b as o,e as n,E as p,t as u,n as c,A as x,_ as f,H as d,r as m,V as _,W as h,X as y,P as g}from"./index-a6TtsOgc.js";import{_ as b}from"./GradientText.vue_vue_type_script_setup_true_lang.BaEWYYVF.js";import{_ as w}from"./PyText.vue_vue_type_script_setup_true_lang.C4vd1DLX.js";import{_ as v}from"./PyTitle.CL2zNIOD.js";import{o as j}from"./on-chain.ItkuIJXP.js";import{u as k,_ as P}from"./usePaged.CElQBFki.js";import{l as I}from"./pythroot-banner.02EEHkli.js";import"./wd-text.O2Z1f8vu.js";const D=f(r({options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},name:"NPythrootListItem",__name:"NPythrootListItem",props:{coverImgSrc:{},isOnChain:{type:Boolean,default:!1},issueQuantity:{},issuer:{},profitQuantity:{default:0},title:{}},emits:["click","viewDetail"],setup:t=>(t,e)=>{const r=p,f=n,d=v,m=w,_=b,h=l;return a(),s(h,{"custom-class":"!relative !mb-0 !pb-0 !pt-0 n-pythroot-list-item !rounded-l-106rpx rounded-r-30rpx !overflow-hidden",onClick:e[1]||(e[1]=e=>t.$emit("click"))},{default:i(()=>[o(f,{class:"border-0rpx border-b-dashed border-b-#DFE6ED flex items-start"},{default:i(()=>[o(f,{class:"h-212rpx w-212rpx bg-#f5f5f5 border-4rpx b-solid b-white flex-shrink-0 overflow-hidden rounded-full"},{default:i(()=>[o(r,{width:"100%",height:"100%",mode:"aspectFill",alt:"",src:t.coverImgSrc},null,8,["src"])]),_:1}),o(f,{class:"py-18rpx pr-26rpx pl-42rpx gap-14rpx rounded-r-30rpx h-212rpx flex flex-grow flex-col overflow-hidden"},{default:i(()=>[o(f,{class:"flex items-center justify-between"},{default:i(()=>[o(d,{"custom-class":"font-600",size:"28rpx","line-height":"normal",style:c({maxWidth:t.isOnChain?"280rpx":"380rpx"}),text:t.title},null,8,["style","text"]),t.isOnChain?(a(),s(f,{key:0,class:"gap-4rpx inline-flex flex-shrink-0 items-center"},{default:i(()=>[o(r,{width:"20rpx",height:"20rpx",src:x(j)},null,8,["src"]),o(m,{color:"#545454",text:"已上链",size:"24rpx","line-height":"36rpx"})]),_:1})):u("",!0)]),_:1}),o(f,{class:"gap-8rpx flex flex-col"},{default:i(()=>[o(f,{class:"gap-24rpx inline-flex max-w-full"},{default:i(()=>[o(m,{"custom-class":"font-300 flex-shrink-0",text:"发行方: "}),o(f,{class:"bg-#29a2fb26 rounded-24rpx px-18rpx max-w-280rpx flex items-center justify-center py-0"},{default:i(()=>[o(_,{"custom-class":"font-500 text-24rpx leading-32rpx truncate min-w-2rpx",from:"#29a2fb",to:"#00bfa5",text:t.issuer},null,8,["text"])]),_:1})]),_:1}),o(f,{class:"gap-12rpx inline-flex max-w-full"},{default:i(()=>[o(m,{"custom-class":"font-300 flex-shrink-0",text:"发放数量: "}),o(m,{"custom-class":"font-300 max-w-280rpx truncate",lines:1,text:`${t.issueQuantity}`},null,8,["text"])]),_:1}),o(f,{class:"gap-12rpx inline-flex"},{default:i(()=>[o(m,{"custom-class":"font-300  flex-shrink-0",text:"关联权益: "}),o(m,{"custom-class":"font-300 max-w-120rpx truncate",bold:"",color:"var(--wot-color-theme)",text:`${t.profitQuantity}`,lines:1},null,8,["text"])]),_:1})]),_:1})]),_:1})]),_:1}),o(f,{class:"bottom-action right-22rpx bottom-14rpx py-6rpx px-26rpx rounded-30rpx absolute bg-[var(--wot-color-theme)]",onClick:e[0]||(e[0]=e=>t.$emit("viewDetail"))},{default:i(()=>[o(d,{"custom-class":"font-600",text:"去看看",color:"#fff",size:"28rpx","line-height":"40rpx"})]),_:1})]),_:1})}}),[["__scopeId","data-v-d03d4943"]]),S=r({__name:"index",setup(r){const l=d();const{list:p}=k(async function(t){const e=await g.app.getOrderPage({params:{type:1,...t}}),{code:r,data:s}=e||{};if(0!==r||!s)throw new Error("获取数据失败");return s});return(r,c)=>{const f=P,d=n,g=D,b=e,w=t,v=m("layout-tabbar-uni");return a(),s(v,null,{default:i(()=>[o(w,{"custom-class":"pb-228rpx bg-#EFF2F5","banner-height":"364rpx","banner-src":x(I)},{default:i(()=>[o(d,{class:"py-30rpx gap-20rpx mt-[-120rpx] flex flex-col bg-transparent px-[42rpx]"},{default:i(()=>[0===x(p).length?(a(),s(d,{key:0,class:"mt-120rpx"},{default:i(()=>[o(f)]),_:1})):u("",!0),(a(!0),_(h,null,y(x(p),(t,e)=>{var r;return a(),s(g,{key:e,"cover-img-src":t.productSpuPicUrl||"",title:t.productSpuName,issuer:t.issuerName,"issue-quantity":t.productSpuIssuedQuantity||0,"is-on-chain":1===Number(t.chainStatus),"profit-quantity":null==(r=t.voucherIssue)?void 0:r.length,onViewDetail:e=>{return r=t.id,void l.push({name:"pythrootDetail",params:{id:String(r)}});var r}},null,8,["cover-img-src","title","issuer","issue-quantity","is-on-chain","profit-quantity","onViewDetail"])}),128))]),_:1}),o(b)]),_:1},8,["banner-src"])]),_:1})}}});export{S as default};
