import{_ as a}from"./BannerView.vue_vue_type_script_setup_true_lang.CfEUUJf5.js";import{_ as e}from"./wd-form.rXyRT9bU.js";import{d as l,aP as s,H as r,B as o,a6 as n,c as t,w as u,r as d,a as c,b as m,A as p,e as i,a7 as f,D as _,y as x,aJ as g,_ as y}from"./index-BAYT1_GE.js";import{l as b}from"./activity-banner.C3kWKCRr.js";const v=y(l({__name:"manual",setup(l){const y=s(),v=r(),w=o(),h=n({manualCode:""});async function C(){const{valid:a}=await w.value.validate();if(!a)return;const e=await g.general.checkoutByQrCode({params:{...h,machineCode:""}});0===(null==e?void 0:e.code)?y.success({msg:"核销成功",closed(){v.replaceAll({name:"merchantProfile"})}}):y.error((null==e?void 0:e.msg)||"核销失败")}return(l,s)=>{const r=f,o=_,n=e,g=i,y=a,v=d("layout-default-uni");return c(),t(v,null,{default:u(()=>[m(y,{fixed:!1,"custom-class":"bg-white login-page","banner-src":p(b),"banner-height":"364rpx"},{default:u(()=>[m(g,{class:"py-60rpx px-56rpx flex h-full flex-grow flex-col"},{default:u(()=>[m(n,{ref_key:"form",ref:w,"custom-class":"gap-16rpx flex flex-col",model:p(h)},{default:u(()=>[m(r,{modelValue:p(h).manualCode,"onUpdate:modelValue":s[0]||(s[0]=a=>p(h).manualCode=a),prop:"manualCode",rules:[{required:!0,message:"请输入核销券码"}],"custom-class":"rounded-10rpx px-28rpx","no-border":"",placeholder:"请输入核销券码"},null,8,["modelValue"]),m(o,{type:"primary",block:"",size:"large",round:!1,onClick:C},{default:u(()=>[x(" 核销 ")]),_:1})]),_:1},8,["model"]),m(g,{class:"flex-grow"})]),_:1})]),_:1},8,["banner-src"])]),_:1})}}}),[["__scopeId","data-v-0a2ebc54"]]);export{v as default};
