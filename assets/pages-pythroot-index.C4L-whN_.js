import{_ as t}from"./BannerView.vue_vue_type_script_setup_true_lang.DzP9QOFw.js";import{_ as e}from"./wd-card.-vo_KsXs.js";import{d as s,c as a,a as r,w as i,b as l,e as n,F as o,t as u,n as p,A as c,y as x,z as f,E as d,_ as m,H as _,r as h,L as y,M as g,N as b,P as w}from"./index-Bpal6X9u.js";import{_ as v}from"./wd-text.COOnfa1A.js";import{_ as j}from"./PyText.vue_vue_type_script_setup_true_lang.1L9IIHvr.js";import{_ as k}from"./PyTitle.Dn6RlDza.js";import{o as I}from"./on-chain.ItkuIJXP.js";import{u as P,_ as D}from"./usePaged.D5bXF0nA.js";import{l as S}from"./pythroot-banner.WDKHhXnh.js";const C=m(s({options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},name:"PythrootListItem",__name:"PythrootListItem",props:{coverImgSrc:{},isOnChain:{type:Boolean,default:!1},issueQuantity:{},issuer:{},profitQuantity:{default:0},title:{}},emits:["click","viewDetail"],setup:t=>(t,s)=>{const m=o,_=n,h=k,y=j,g=v,b=d,w=e;return r(),a(w,{"custom-class":"!mb-0 !pb-0 !pt-0 pythroot-list-item",onClick:s[1]||(s[1]=e=>t.$emit("click"))},{footer:i(()=>[l(_,{class:"flex w-full items-center justify-between"},{default:i(()=>[l(_,{class:"gap-8rpx inline-flex items-center"},{default:i(()=>[l(y,{text:"关联权益:"}),l(g,{text:t.profitQuantity,size:"26rpx","line-height":"38rpx",color:"var(--wot-color-theme)"},null,8,["text"])]),_:1}),l(b,{onClick:s[0]||(s[0]=e=>t.$emit("viewDetail"))},{default:i(()=>[x("去看看")]),_:1})]),_:1})]),default:i(()=>[l(_,{class:"py-20rpx border-2rpx border-b-dashed border-b-#DFE6ED gap-28rpx flex items-start"},{default:i(()=>[l(_,{class:"h-160rpx w-160rpx rounded-8rpx bg-#f5f5f5 flex-shrink-0 overflow-hidden"},{default:i(()=>[l(m,{width:"100%",height:"100%",mode:"aspectFill",alt:"",src:t.coverImgSrc},null,8,["src"])]),_:1}),l(_,{class:"gap-14rpx flex flex-grow flex-col"},{default:i(()=>[l(_,{class:"flex items-center justify-between"},{default:i(()=>[l(h,{style:p({maxWidth:t.isOnChain?"300rpx":"430rpx"}),text:t.title},null,8,["style","text"]),t.isOnChain?(r(),a(_,{key:0,class:"gap-4rpx inline-flex items-center"},{default:i(()=>[l(m,{width:"20rpx",height:"20rpx",src:c(I)},null,8,["src"]),l(y,{text:"已上链",size:"24rpx","line-height":"36rpx"})]),_:1})):u("",!0)]),_:1}),l(_,{class:"gap-8rpx flex flex-col"},{default:i(()=>[l(_,{class:"gap-24rpx inline-flex"},{default:i(()=>[l(y,{"custom-class":"flex-shrink-0",text:"发行方: "}),l(_,{class:"text-container flex items-center justify-center"},{default:i(()=>[l(_,{class:"text-gradient font-500 px-18rpx rounded-24rpx bg-#29a2fb25 text-24rpx pt-0 leading-none"},{default:i(()=>[x(f(t.issuer),1)]),_:1})]),_:1})]),_:1}),l(y,{text:`发放数量: ${t.issueQuantity}`},null,8,["text"])]),_:1})]),_:1})]),_:1})]),_:1})}}),[["__scopeId","data-v-bed99f23"]]),F=s({__name:"index",setup(e){const s=_();const{list:o}=P(async function(t){const e=await w.app.getOrderPage({params:{type:1,...t}}),{code:s,data:a}=e||{};if(0!==s||!a)throw new Error("获取数据失败");return a});return(e,p)=>{const x=D,f=n,d=C,m=t,_=h("layout-tabbar-uni");return r(),a(_,null,{default:i(()=>[l(m,{"custom-class":"pb-228rpx bg-#EFF2F5","banner-height":"364rpx","banner-src":c(S)},{default:i(()=>[l(f,{class:"p-30rpx gap-20rpx mt-[-120rpx] flex flex-col bg-transparent"},{default:i(()=>[0===c(o).length?(r(),a(f,{key:0,class:"mt-120rpx"},{default:i(()=>[l(x)]),_:1})):u("",!0),(r(!0),y(g,null,b(c(o),(t,e)=>{var i;return r(),a(d,{key:e,"cover-img-src":t.productSpuPicUrl||"",title:t.productSpuName,issuer:t.issuerName,"issue-quantity":t.productSpuIssuedQuantity||0,"is-on-chain":1===Number(t.chainStatus),"profit-quantity":null==(i=t.voucherIssue)?void 0:i.length,onViewDetail:e=>{return a=t.id,void s.push({name:"pythrootDetail",params:{id:String(a)}});var a}},null,8,["cover-img-src","title","issuer","issue-quantity","is-on-chain","profit-quantity","onViewDetail"])}),128))]),_:1})]),_:1},8,["banner-src"])]),_:1})}}});export{F as default};
