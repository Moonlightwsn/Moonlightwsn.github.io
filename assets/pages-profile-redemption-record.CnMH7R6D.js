import{_ as t}from"./PyTitle.Bls6GKJi.js";import{d as e,H as r,c as s,w as a,r as l,a as i,b as p,e as u,t as o,N as n,E as x,A as d,O as c,Q as f,G as m,P as g}from"./index-2e8oLCEa.js";import{u as h,_}from"./usePaged.DB3Cvfvs.js";import{f as y}from"./index.BS2-J1-k.js";const b="YYYY年MM月DD日",w=e({__name:"redemption-record",setup(e){const w=r();const{list:j,total:$}=h(async function(t){const e=await g.app.getOrderPage({params:{status:30,type:2,...t}}),{code:r,data:s}=e||{};if(0!==r||!s)throw new Error("获取数据失败");return{list:(s.list||[]).map(t=>{var e;const r=[];return null==(e=t.productsIssue)||e.forEach(t=>{r.push(t.name)}),{id:t.id,title:t.productSpuName,issuer:t.issuerName,pythroots:r.toString(),time:`${y(t.createTime,b)} - ${y(t.expireTime,b)}`,pic:t.productSpuPicUrl||""}}),total:s.total||0}});return(e,r)=>{const g=x,h=u,y=_,b=m,k=t,P=l("layout-default-uni");return i(),s(P,null,{default:a(()=>[p(h,{class:"px-30rpx py-40rpx pb-158rpx h-screen bg-white"},{default:a(()=>[p(h,{class:"flex justify-end"},{default:a(()=>[p(g,{text:`累计兑付${d($)}笔`},null,8,["text"])]),_:1}),0===d($)?(i(),s(h,{key:0},{default:a(()=>[p(y)]),_:1})):o("",!0),(i(!0),n(c,null,f(d(j),t=>(i(),s(h,{key:t.id,class:"rounded-20rpx p-20rpx h-256rpx gap-18rpx b-2rpx b-[rgba(169,169,169,0.4)] mt-3 flex items-start border-solid",onClick:e=>{return r=t.id,void w.push({name:"profitDetail",params:{id:String(r)}});var r}},{default:a(()=>[p(h,{class:"w-96rpx h-96rpx rounded-8rpx p-16rpx bg-#F3F3F5 flex-shrink-0"},{default:a(()=>[p(b,{width:"100%",height:"100%",round:"",radius:"10rpx",alt:"",src:t.pic},null,8,["src"])]),_:2},1024),p(h,{class:"gap-10rpx mr-12rpx flex flex-grow flex-col"},{default:a(()=>[p(h,{class:"mb-6rpx flex flex-row items-start justify-between"},{default:a(()=>[p(k,{lines:2,text:t.title},null,8,["text"]),p(g,{text:"已兑付",class:"text-green-500"})]),_:2},1024),p(h,{class:"gap-4rpx flex flex-col"},{default:a(()=>[p(g,{text:`发行方: ${t.issuer}`},null,8,["text"]),p(g,{text:`关联数根: ${t.pythroots} `},null,8,["text"]),p(g,{text:`${t.time}`},null,8,["text"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})}}});export{w as default};
