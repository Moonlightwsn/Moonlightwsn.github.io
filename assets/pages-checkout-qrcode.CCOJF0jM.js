import{d as e,H as a,c as t,w as s,r,a as n,b as c,e as o,a3 as i,aL as l,aM as d,P as u,D as f}from"./index-CPSH10gF.js";import{u as m}from"./usePageOptions.DjKkz5vL.js";const p=e({__name:"qrcode",setup(e){const p=a();return m(e=>{const{machineCode:a}=e||{};!async function(e){try{if(!e)throw new Error("没有识别到二维码");const a=await u.app.queryQRCodeInfo({params:{machineCode:e,manualCode:""}}),{entityId:t,type:s}=a.data||{};if(1!==Number(s))throw new Error("不合法的二维码");const r=t;r?p.replace({name:"activityDetail",params:{id:String(r),scene:"scanQrcode",machineCode:e}}):p.replace({name:"index"})}catch(a){f({icon:"error",title:(null==a?void 0:a.message)||"不合法的二维码"}),p.replace({name:"index"})}}(a)}),(e,a)=>{const u=l,f=d,m=o,p=i,x=r("layout-default-uni");return n(),t(x,null,{default:s(()=>[c(m,{class:"flex h-screen w-screen flex-col items-center justify-center overflow-hidden p-10"},{default:s(()=>[c(p,{class:"!m-0 !p-0"},{default:s(()=>[c(m,{class:"h-560rpx w-560rpx flex flex-col items-center justify-center gap-10"},{default:s(()=>[c(u,{size:"120rpx"}),c(f,{text:"参加活动中..."})]),_:1})]),_:1})]),_:1})]),_:1})}}});export{p as default};
