import{_ as e}from"./BannerView.vue_vue_type_script_setup_true_lang.CT3f7-Js.js";import{_ as a}from"./wd-form.BvF60C9w.js";import{d as l,bN as s,H as r,D as o,b4 as n,c as t,w as u,r as d,a as c,b as m,B as p,e as i,b5 as f,J as _,z as x,bH as g,_ as b}from"./index-CTwWc01z.js";import{l as v}from"./activity-banner.C3kWKCRr.js";const w=b(l({__name:"manual",setup(l){const b=s(),w=r(),y=o(),h=n({manualCode:""});async function C(){const{valid:e}=await y.value.validate();if(!e)return;const a=await g.general.checkoutByQrCode({params:{...h,machineCode:""}});0===(null==a?void 0:a.code)?b.success({msg:"核销成功",closed(){w.replaceAll({name:"merchantProfile"})}}):b.error((null==a?void 0:a.msg)||"核销失败")}return(l,s)=>{const r=f,o=_,n=a,g=i,b=e,w=d("layout-default-uni");return c(),t(w,null,{default:u(()=>[m(b,{fixed:!1,"custom-class":"bg-white login-page","banner-src":p(v),"banner-height":"364rpx"},{default:u(()=>[m(g,{class:"py-60rpx px-56rpx flex h-full flex-grow flex-col"},{default:u(()=>[m(n,{ref_key:"form",ref:y,"custom-class":"gap-16rpx flex flex-col",model:p(h)},{default:u(()=>[m(r,{modelValue:p(h).manualCode,"onUpdate:modelValue":s[0]||(s[0]=e=>p(h).manualCode=e),prop:"manualCode",rules:[{required:!0,message:"请输入核销券码"}],"custom-class":"rounded-10rpx px-28rpx","no-border":"",placeholder:"请输入核销券码"},null,8,["modelValue"]),m(o,{type:"primary",block:"",size:"large",round:!1,onClick:C},{default:u(()=>[x(" 核销 ")]),_:1})]),_:1},8,["model"]),m(g,{class:"flex-grow"})]),_:1})]),_:1},8,["banner-src"])]),_:1})}}}),[["__scopeId","data-v-178402fd"]]);export{w as default};
