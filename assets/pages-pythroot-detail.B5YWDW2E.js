import{_ as a}from"./DetailView.BsgYdZ0j.js";import{_ as e}from"./PyTitle.q47JWHlp.js";import{d as t,l as r,m as l,a as i,w as s,q as o,z as n,o as u,e as d,u as p,f as c,A as m,i as v,s as f,F as x,v as h,k as b,_ as y,h as g}from"./index-Do2xWgh4.js";import{o as j}from"./on-chain.ItkuIJXP.js";import{p as k}from"./profit-cover.Brv83Jt1.js";import{u as w}from"./usePageOptions.BFxVW-9-.js";import{P as _}from"./index.FGZfsysj.js";import"./wd-tab.B6E56TpM.js";import"./wd-card.Ch8b-tJ6.js";import"./wd-col.D2qaIFp2.js";import"./wd-divider.IEus4gFs.js";import"./wd-text.D0rKvTKa.js";import"./alova.esm.BwIAK7PD.js";import"./index.nuCfFJ4c.js";const N=t({__name:"detail",setup(t){const N=r(),I=l("静安志愿者"),S=l([{label:"分类",value:"文化"},{label:"已发放",value:"10,000"},{label:"发放方",value:"上海市静安社区服务中心"},{label:"发放日期",value:"2025-10-15"}]),C=l([{key:"associated-profit",title:"关联权益",content:[{id:"1",avatar:k,title:"星巴克经典咖啡兑换券"},{id:"2",avatar:k,title:"滴滴快车5折券"}]},{key:"introduce",title:"详细介绍",content:'<p><img src="http://10.1.100.13:9000/pythroot/20250909/OIP-C_1757405734487.jpg">&nbsp;</p>\n<p>乌萨奇是个可爱宝宝</p>'}]),D=l();return w(async a=>{var e,t,r;const{id:l}=a||{},i=await _.app.getOrderDetail({params:{orderId:Number.parseInt(l)}});if(null==i?void 0:i.data){D.value=i.data,I.value=null==(e=D.value)?void 0:e.productSpuName,S.value.forEach(a=>{var e,t,r,l,i;switch(a.label){case"分类":a.value=(null==(e=D.value)?void 0:e.productSpuCategoryName)||"未分类";break;case"发放方":a.value=(null==(t=D.value)?void 0:t.issuerName)||"未知发放方";break;case"发放日期":a.value=(null==(r=D.value)?void 0:r.createTime)?new Date(null==(l=D.value)?void 0:l.createTime).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"未设置日期";break;case"已发放":a.value=(a=>{if(!a)return"0";const e=Number(a);return Number.isNaN(e)?String(a):e.toLocaleString("zh-CN")})(null==(i=D.value)?void 0:i.productSpuIssueQuantity)}});const a=(null==(t=D.value)?void 0:t.voucherIssue)||[];C.value.find(a=>"associated-profit"===a.key).content=a.map(a=>({id:a.id||String(Date.now()+Math.random()),avatar:a.picUrl,title:a.name}));const l=C.value.find(a=>"introduce"===a.key);l&&(l.content=(null==(r=D.value)?void 0:r.productSpuIntroduction)||"<p>暂无详细介绍</p>")}else D.value=void 0,N.info("没有获取到数根详情")}),(t,r)=>{const l=b,k=y,w=v,_=e,N=a,D=o("layout-default-uni"),F=n("dompurify-html");return u(),i(D,null,{default:s(()=>[d(N,{"card-title":p(I),"card-info":p(S),sections:p(C)},{"card-content-extra":s(()=>[d(k,{class:"mt-20rpx",block:"",plain:""},{default:s(()=>[d(l,{class:"mr-10rpx",width:"24rpx",height:"24rpx",src:p(j)},null,8,["src"]),g("链上信息 ")]),_:1})]),"section-content":s(({sectionItem:a})=>["associated-profit"===a.key?(u(),i(w,{key:0,class:"gap-20rpx mt-8rpx flex flex-col"},{default:s(()=>[(u(!0),f(x,null,h(a.content,a=>(u(),i(w,{key:a.id,class:"rounded-20rpx p-20rpx gap-18rpx b-2rpx b-[rgba(41,162,251,0.4)] flex items-center border-solid"},{default:s(()=>[d(w,{class:"w-96rpx h-96rpx rounded-8rpx p-16rpx bg-#F3F3F5 flex-shrink-0"},{default:s(()=>[d(l,{width:"100%",height:"100%",round:"",radius:"10rpx",alt:"",src:a.avatar},null,8,["src"])]),_:2},1024),d(_,{text:a.title},null,8,["text"])]),_:2},1024))),128))]),_:2},1024)):c("",!0),"introduce"===a.key?m((u(),i(w,{key:1},null,512)),[[F,a.content]]):c("",!0)]),_:1},8,["card-title","card-info","sections"])]),_:1})}}});export{N as default};
