import{_ as e}from"./BannerView.vue_vue_type_script_setup_true_lang.BEJtDK2a.js";import{_ as a}from"./wd-form.CexgOjdO.js";import{d as l,bC as s,H as r,B as o,b0 as n,c as t,w as u,r as d,a as c,b as m,A as p,e as i,b1 as f,D as _,y as x,bu as g,_ as b}from"./index-a6TtsOgc.js";import{l as y}from"./activity-banner.C3kWKCRr.js";const v=b(l({__name:"manual",setup(l){const b=s(),v=r(),w=o(),h=n({manualCode:""});async function C(){const{valid:e}=await w.value.validate();if(!e)return;const a=await g.general.checkoutByQrCode({params:{...h,machineCode:""}});0===(null==a?void 0:a.code)?b.success({msg:"核销成功",closed(){v.replaceAll({name:"merchantProfile"})}}):b.error((null==a?void 0:a.msg)||"核销失败")}return(l,s)=>{const r=f,o=_,n=a,g=i,b=e,v=d("layout-default-uni");return c(),t(v,null,{default:u(()=>[m(b,{fixed:!1,"custom-class":"bg-white login-page","banner-src":p(y),"banner-height":"364rpx"},{default:u(()=>[m(g,{class:"py-60rpx px-56rpx flex h-full flex-grow flex-col"},{default:u(()=>[m(n,{ref_key:"form",ref:w,"custom-class":"gap-16rpx flex flex-col",model:p(h)},{default:u(()=>[m(r,{modelValue:p(h).manualCode,"onUpdate:modelValue":s[0]||(s[0]=e=>p(h).manualCode=e),prop:"manualCode",rules:[{required:!0,message:"请输入核销券码"}],"custom-class":"rounded-10rpx px-28rpx","no-border":"",placeholder:"请输入核销券码"},null,8,["modelValue"]),m(o,{type:"primary",block:"",size:"large",round:!1,onClick:C},{default:u(()=>[x(" 核销 ")]),_:1})]),_:1},8,["model"]),m(g,{class:"flex-grow"})]),_:1})]),_:1},8,["banner-src"])]),_:1})}}}),[["__scopeId","data-v-178402fd"]]);export{v as default};
